<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>ğŸš¨ Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù„Ø§Øº Ø­Ø§Ø¯Ø«</title>

    <link rel="stylesheet" href="./style.css" />

    <!-- âœ… Socket.IO & SweetAlert -->
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- âœ… ArcGIS -->
    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.30/esri/themes/light/main.css"
    />
    <script src="https://js.arcgis.com/4.30/"></script>

    <style>
      html, body, #map {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }
      .sidebar {
        position: absolute;
        top: 10px;
        right: 10px;
        background: #fff;
        padding: 15px;
        border-radius: 12px;
        box-shadow: 0 0 10px rgba(0,0,0,0.2);
        width: 280px;
        z-index: 99;
      }
    </style>

    <!-- âœ… ÙƒÙˆØ¯ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ± -->
    <script>
      const socket = io("http://localhost:2511", {
        transports: ["websocket"],
        reconnection: true,
        reconnectionAttempts: 5,
        reconnectionDelay: 1000,
      });

      socket.on("connect", () => {
        console.log("ğŸŸ¢ Connected to server:", socket.id);
      });

      socket.on("connect_error", (err) => {
        console.error("âŒ Socket.IO error:", err.message);
      });
    </script>
  </head>

  <body>
    <div id="map"></div>

    <div class="sidebar">
      <header>ğŸš¨ Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù„Ø§Øº Ø­Ø§Ø¯Ø«</header>

      <form id="reportForm" class="form" onsubmit="return false;">
        <div>
          <label>ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</label>
          <input type="text" id="address" placeholder="Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø£Ùˆ Ø§Ø®ØªØ± Ù…ÙˆÙ‚Ø¹Ùƒ" readonly />
        </div>

        <button id="getLocationBtn" type="button">ğŸ“ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ</button>

        <div>
          <label>ğŸ‘¥ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¨ÙŠÙ†:</label>
          <input type="number" id="injuries" placeholder="Ø§ÙƒØªØ¨ Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¨ÙŠÙ†" />
        </div>

        <div>
          <label>ğŸ“ Ø§Ù„ÙˆØµÙ:</label>
          <textarea id="desc" placeholder="Ø§ÙƒØªØ¨ ÙˆØµÙ Ø§Ù„Ø­Ø§Ø¯Ø«"></textarea>
        </div>

        <button type="submit">ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ù„Ø§Øº</button>
      </form>
    </div>

    <script src="./main.js"></script>
  </body>
</html>
